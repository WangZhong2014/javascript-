{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{276:function(t,e,s){\"use strict\";s.r(e);var a=s(0),n=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"content\"},[s(\"h1\",{attrs:{id:\"direct-smtp-transport-module-for-nodemailer\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#direct-smtp-transport-module-for-nodemailer\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Direct SMTP transport module for Nodemailer\")]),s(\"p\",[t._v(\"Applies for Nodemailer v1.x and not for v0.x where transports are built-in.\")]),s(\"h2\",{attrs:{id:\"usage\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#usage\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Usage\")]),s(\"p\",[t._v(\"Install with npm\")]),s(\"pre\",[s(\"code\",[t._v(\"npm install nodemailer-direct-transport\\n\")])]),s(\"p\",[t._v(\"Require to your script\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" nodemailer \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'nodemailer'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" directTransport \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'nodemailer-direct-transport'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Create a Nodemailer transport object\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" transporter \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" nodemailer\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createTransport\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"directTransport\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"options\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"options\")]),t._v(\" defines connection data\\n\"),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"options.name\")]),t._v(\" hostname to be used when introducing the client to the MX server\")]),s(\"li\",[s(\"strong\",[t._v(\"options.logger\")]),t._v(\" optional \"),s(\"a\",{attrs:{href:\"https://github.com/trentm/node-bunyan\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"bunyan\")]),t._v(\" compatible logger instance. If set to \"),s(\"code\",[t._v(\"true\")]),t._v(\" then logs to console. If value is not set or is \"),s(\"code\",[t._v(\"false\")]),t._v(\" then nothing is logged\")]),s(\"li\",[s(\"strong\",[t._v(\"options.debug\")]),t._v(\" if set to true, then logs SMTP traffic, otherwise logs only transaction events\")]),s(\"li\",[s(\"strong\",[t._v(\"options.port\")]),t._v(\" optional port to use for connecting to MX servers (defaults to MTA standard 25)\")]),s(\"li\",[s(\"strong\",[t._v(\"options.retryDelay\")]),t._v(\" optional timeout in ms for retrying failed messages (defaults to 15 minutes)\")]),s(\"li\",[s(\"strong\",[t._v(\"getSocket\")]),t._v(\" optional method that is called every time a new connection is made against the SMTP server. This method can provide an existing socket to be used instead of creating a new one\")])])])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" transport \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" nodemailer\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createTransport\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"directTransport\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    name\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'smtp.example.com'\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// should be the hostname machine IP address resolves to\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"send-callback\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#send-callback\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" send callback\")]),s(\"p\",[t._v(\"Send callback includes the following arguments\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"error\")]),t._v(\" if the mail was not sent\\n\"),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"error.errors\")]),t._v(\" is an array of error responses (one response for one MX exchange)\\n\"),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"error.errors[].recipients\")]),t._v(\" an array of failed recipients\")]),s(\"li\",[s(\"strong\",[t._v(\"error.errors[].response\")]),t._v(\" Error response from the SMTP server\")])])])])]),s(\"li\",[s(\"strong\",[t._v(\"info\")]),t._v(\" if at least one mail was sent or is pending\\n\"),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"info.accepted\")]),t._v(\" an array of recipients that were accepted\")]),s(\"li\",[s(\"strong\",[t._v(\"info.rejected\")]),t._v(\" an array of recipients that were rejected\")]),s(\"li\",[s(\"strong\",[t._v(\"info.pending\")]),t._v(\" an array of pending recipient objects (messages that were not rejected permanently and are retried later)\\n\"),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"info.pending[].recipients\")]),t._v(\" an array of recipient addresses that are still pending\")]),s(\"li\",[s(\"strong\",[t._v(\"info.pending[].response\")]),t._v(\" Response from the SMTP server\")])])]),s(\"li\",[s(\"strong\",[t._v(\"info.errors\")]),t._v(\" An array of errors (for these exhanges that rejected mail)\")])])])]),s(\"h2\",{attrs:{id:\"issues\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#issues\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Issues\")]),s(\"p\",[t._v(\"Direct transport is very inefficient as it queues all e-mails to be sent into memory. Additionally, if a message is not yet sent and the process is closed, all data about queued messages is lost. Thus direct transport is only suitable for low throughput systems, where the message can be processed immediately.\")]),s(\"p\",[t._v(\"While not being 100% reliable (remember - if process exits, entire queue is lost), direct transport can still handle sending errors, graylisting and such. If a message can not be sent, it is re-queued and retried later.\")]),s(\"h2\",{attrs:{id:\"license\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#license\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" License\")]),s(\"p\",[s(\"strong\",[t._v(\"MIT\")])])])}],!1,null,null,null);e.default=n.exports}}]);","extractedComments":[]}