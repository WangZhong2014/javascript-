{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{349:function(t,s,a){\"use strict\";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"content\"},[a(\"h1\",{attrs:{id:\"request-simplified-http-client\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-simplified-http-client\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Request - Simplified HTTP client\")]),a(\"p\",[a(\"a\",{attrs:{href:\"https://nodei.co/npm/request/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"img\",{attrs:{src:\"https://nodei.co/npm/request.png?downloads=true&downloadRank=true&stars=true\",alt:\"npm package\"}})])]),a(\"p\",[a(\"a\",{attrs:{href:\"https://travis-ci.org/request/request\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"img\",{attrs:{src:\"https://img.shields.io/travis/request/request/master.svg?style=flat-square\",alt:\"Build status\"}})]),a(\"a\",{attrs:{href:\"https://codecov.io/github/request/request?branch=master\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"img\",{attrs:{src:\"https://img.shields.io/codecov/c/github/request/request.svg?style=flat-square\",alt:\"Coverage\"}})]),a(\"a\",{attrs:{href:\"https://coveralls.io/r/request/request\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"img\",{attrs:{src:\"https://img.shields.io/coveralls/request/request.svg?style=flat-square\",alt:\"Coverage\"}})]),a(\"a\",{attrs:{href:\"https://david-dm.org/request/request\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"img\",{attrs:{src:\"https://img.shields.io/david/request/request.svg?style=flat-square\",alt:\"Dependency Status\"}})]),a(\"a\",{attrs:{href:\"https://snyk.io/test/npm/request\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"img\",{attrs:{src:\"https://snyk.io/test/npm/request/badge.svg?style=flat-square\",alt:\"Known Vulnerabilities\"}})]),a(\"a\",{attrs:{href:\"https://gitter.im/request/request?utm_source=badge\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"img\",{attrs:{src:\"https://img.shields.io/badge/gitter-join_chat-blue.svg?style=flat-square\",alt:\"Gitter\"}})])]),a(\"h2\",{attrs:{id:\"super-simple-to-use\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#super-simple-to-use\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Super simple to use\")]),a(\"p\",[t._v(\"Request is designed to be the simplest way possible to make http calls. It supports HTTPS and follows redirects by default.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'error:'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Print the error if one occurred\")]),t._v(\"\\n  console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'statusCode:'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" response \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"statusCode\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Print the response status code if a response was received\")]),t._v(\"\\n  console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'body:'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Print the HTML for the Google homepage.\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"h2\",{attrs:{id:\"table-of-contents\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#table-of-contents\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Table of contents\")]),a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"#streaming\"}},[t._v(\"Streaming\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#promises--asyncawait\"}},[t._v(\"Promises & Async/Await\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#forms\"}},[t._v(\"Forms\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#http-authentication\"}},[t._v(\"HTTP Authentication\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#custom-http-headers\"}},[t._v(\"Custom HTTP Headers\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#oauth-signing\"}},[t._v(\"OAuth Signing\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#proxies\"}},[t._v(\"Proxies\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#unix-domain-sockets\"}},[t._v(\"Unix Domain Sockets\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#tlsssl-protocol\"}},[t._v(\"TLS/SSL Protocol\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#support-for-har-12\"}},[t._v(\"Support for HAR 1.2\")])]),a(\"li\",[a(\"a\",{attrs:{href:\"#requestoptions-callback\"}},[a(\"strong\",[t._v(\"All Available Options\")])])])]),a(\"p\",[t._v(\"Request also offers \"),a(\"a\",{attrs:{href:\"#convenience-methods\"}},[t._v(\"convenience methods\")]),t._v(\" like\\n\"),a(\"code\",[t._v(\"request.defaults\")]),t._v(\" and \"),a(\"code\",[t._v(\"request.post\")]),t._v(\", and there are\\nlots of \"),a(\"a\",{attrs:{href:\"#examples\"}},[t._v(\"usage examples\")]),t._v(\" and several\\n\"),a(\"a\",{attrs:{href:\"#debugging\"}},[t._v(\"debugging techniques\")]),t._v(\".\")]),a(\"hr\"),a(\"h2\",{attrs:{id:\"streaming\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#streaming\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Streaming\")]),a(\"p\",[t._v(\"You can stream any response to a file stream.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://google.com/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createWriteStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"You can also stream a file to a PUT or POST request. This method will also check the file extension against a mapping of file extensions to content-types (in this case \"),a(\"code\",[t._v(\"application/json\")]),t._v(\") and use the proper \"),a(\"code\",[t._v(\"content-type\")]),t._v(\" in the PUT request (if the headers donâ€™t already provide one).\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'file.json'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"put\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/obj.json'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"Request can also \"),a(\"code\",[t._v(\"pipe\")]),t._v(\" to itself. When doing so, \"),a(\"code\",[t._v(\"content-type\")]),t._v(\" and \"),a(\"code\",[t._v(\"content-length\")]),t._v(\" are preserved in the PUT headers.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://google.com/img.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"put\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/img.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v('Request emits a \"response\" event when a response is received. The '),a(\"code\",[t._v(\"response\")]),t._v(\" argument will be an instance of \"),a(\"a\",{attrs:{href:\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"http.IncomingMessage\")]),t._v(\".\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://google.com/img.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"on\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'response'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"statusCode\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// 200\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"headers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// 'image/png'\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"put\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/img.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"To easily handle errors when streaming requests, listen to the \"),a(\"code\",[t._v(\"error\")]),t._v(\" event before piping:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"on\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'error'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createWriteStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"Now letâ€™s get fancy.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"http\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createServer\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" resp\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"url \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"method \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'PUT'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"put\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"method \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'GET'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"||\")]),t._v(\" req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"method \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'HEAD'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resp\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"You can also \"),a(\"code\",[t._v(\"pipe()\")]),t._v(\" from \"),a(\"code\",[t._v(\"http.ServerRequest\")]),t._v(\" instances, as well as to \"),a(\"code\",[t._v(\"http.ServerResponse\")]),t._v(\" instances. The HTTP method, headers, and entity-body data will be sent. Which means that, if you don't really care about security, you can do:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"http\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createServer\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" resp\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"url \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" x \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"x\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    x\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resp\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"And since \"),a(\"code\",[t._v(\"pipe()\")]),t._v(\" returns the destination stream in â‰¥ Node 0.5.x you can do one line proxying. ðŸ˜ƒ\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resp\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"Also, none of this new functionality conflicts with requests previous features, it just expands them.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" r \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"defaults\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'proxy'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://localproxy.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\nhttp\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createServer\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" resp\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"url \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    r\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://google.com/doodle.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resp\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"You can still use intermediate proxies, the requests will still follow HTTP forwards, etc.\")]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"promises-async-await\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#promises-async-await\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Promises & Async/Await\")]),a(\"p\",[a(\"code\",[t._v(\"request\")]),t._v(\" supports both streaming and callback interfaces natively. If you'd like \"),a(\"code\",[t._v(\"request\")]),t._v(\" to return a Promise instead, you can use an alternative interface wrapper for \"),a(\"code\",[t._v(\"request\")]),t._v(\". These wrappers can be useful if you prefer to work with Promises, or if you'd like to use \"),a(\"code\",[t._v(\"async\")]),t._v(\"/\"),a(\"code\",[t._v(\"await\")]),t._v(\" in ES2017.\")]),a(\"p\",[t._v(\"Several alternative interfaces are provided by the request team, including:\")]),a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"https://github.com/request/request-promise\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"request-promise\")])]),t._v(\" (uses \"),a(\"a\",{attrs:{href:\"https://github.com/petkaantonov/bluebird\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Bluebird\")]),t._v(\" Promises)\")]),a(\"li\",[a(\"a\",{attrs:{href:\"https://github.com/request/request-promise-native\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"request-promise-native\")])]),t._v(\" (uses native Promises)\")]),a(\"li\",[a(\"a\",{attrs:{href:\"https://github.com/request/request-promise-any\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"request-promise-any\")])]),t._v(\" (uses \"),a(\"a\",{attrs:{href:\"https://www.npmjs.com/package/any-promise\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"any-promise\")]),t._v(\" Promises)\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"forms\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#forms\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Forms\")]),a(\"p\",[a(\"code\",[t._v(\"request\")]),t._v(\" supports \"),a(\"code\",[t._v(\"application/x-www-form-urlencoded\")]),t._v(\" and \"),a(\"code\",[t._v(\"multipart/form-data\")]),t._v(\" form uploads. For \"),a(\"code\",[t._v(\"multipart/related\")]),t._v(\" refer to the \"),a(\"code\",[t._v(\"multipart\")]),t._v(\" API.\")]),a(\"h4\",{attrs:{id:\"application-x-www-form-urlencoded-url-encoded-forms\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#application-x-www-form-urlencoded-url-encoded-forms\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" application/x-www-form-urlencoded (URL-Encoded Forms)\")]),a(\"p\",[t._v(\"URL-encoded forms are simple.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"post\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://service.com/upload'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"form\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"key\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'value'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// or\")]),t._v(\"\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"post\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://service.com/upload'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"form\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"key\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'value'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// or\")]),t._v(\"\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"post\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://service.com/upload'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" form\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"key\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'value'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"httpResponse\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"/* ... */\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"h4\",{attrs:{id:\"multipart-form-data-multipart-form-uploads\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#multipart-form-data-multipart-form-uploads\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" multipart/form-data (Multipart Form Uploads)\")]),a(\"p\",[t._v(\"For \"),a(\"code\",[t._v(\"multipart/form-data\")]),t._v(\" we use the \"),a(\"a\",{attrs:{href:\"https://github.com/form-data/form-data\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"form-data\")]),t._v(\" library by \"),a(\"a\",{attrs:{href:\"https://github.com/felixge\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"@felixge\")]),t._v(\". For the most cases, you can pass your upload form data via the \"),a(\"code\",[t._v(\"formData\")]),t._v(\" option.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" formData \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Pass a simple key-value pair\")]),t._v(\"\\n  my_field\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'my_value'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Pass data via Buffers\")]),t._v(\"\\n  my_buffer\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Buffer\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"3\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Pass data via Streams\")]),t._v(\"\\n  my_file\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/unicycle.jpg'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Pass multiple values /w an Array\")]),t._v(\"\\n  attachments\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/attachment1.jpg'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/attachment2.jpg'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Pass optional meta-data with an 'options' object with style: {value: DATA, options: OPTIONS}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v('// Use case: for some types of streams, you\\'ll need to provide \"file\"-related information manually.')]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// See the `form-data` README for more information about options: https://github.com/form-data/form-data\")]),t._v(\"\\n  custom_file\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    value\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"  fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/dev/urandom'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    options\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      filename\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'topsecret.jpg'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      contentType\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'image/jpeg'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"post\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://service.com/upload'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" formData\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" formData\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"optionalCallback\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" httpResponse\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"error\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'upload failed:'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Upload successful!  Server responded with:'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"For advanced cases, you can access the form-data object itself via \"),a(\"code\",[t._v(\"r.form()\")]),t._v(\". This can be modified until the request is fired on the next cycle of the event-loop. (Note that this calling \"),a(\"code\",[t._v(\"form()\")]),t._v(\" will clear the currently set form data for that request.)\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// NOTE: Advanced use-case, for normal use see 'formData' usage above\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" r \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"post\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://service.com/upload'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"optionalCallback\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" httpResponse\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"...\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" form \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" r\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"form\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nform\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"append\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'my_field'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'my_value'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nform\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"append\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'my_buffer'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Buffer\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"3\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nform\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"append\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'custom_file'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'/unicycle.jpg'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"filename\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'unicycle.jpg'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"See the \"),a(\"a\",{attrs:{href:\"https://github.com/form-data/form-data\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"form-data README\")]),t._v(\" for more information & examples.\")]),a(\"h4\",{attrs:{id:\"multipart-related\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#multipart-related\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" multipart/related\")]),a(\"p\",[t._v(\"Some variations in different HTTP implementations require a newline/CRLF before, after, or both before and after the boundary of a \"),a(\"code\",[t._v(\"multipart/related\")]),t._v(\" request (using the multipart option). This has been observed in the .NET WebAPI version 4.0. You can turn on a boundary preambleCRLF or postamble by passing them as \"),a(\"code\",[t._v(\"true\")]),t._v(\" to your request options.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    method\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'PUT'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    preambleCRLF\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    postambleCRLF\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    uri\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://service.com/upload'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    multipart\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'application/json'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"JSON\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"stringify\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"foo\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'bar'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" _attachments\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.txt'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"follows\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" length\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"18\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content_type'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'I am an attachment'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'image.png'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// alternatively pass an object containing additional options\")]),t._v(\"\\n    multipart\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      chunked\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'application/json'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"JSON\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"stringify\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"foo\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'bar'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" _attachments\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.txt'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"follows\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" length\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"18\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content_type'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'I am an attachment'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"error\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'upload failed:'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Upload successful!  Server responded with:'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"http-authentication\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#http-authentication\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" HTTP Authentication\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://some.server.com/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"auth\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'username'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'password'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// or\")]),t._v(\"\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://some.server.com/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'auth'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'user'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'username'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'pass'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'password'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'sendImmediately'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// or\")]),t._v(\"\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://some.server.com/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"auth\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'bearerToken'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// or\")]),t._v(\"\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://some.server.com/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'auth'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'bearer'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'bearerToken'\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"If passed as an option, \"),a(\"code\",[t._v(\"auth\")]),t._v(\" should be a hash containing values:\")]),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"user\")]),t._v(\" || \"),a(\"code\",[t._v(\"username\")])]),a(\"li\",[a(\"code\",[t._v(\"pass\")]),t._v(\" || \"),a(\"code\",[t._v(\"password\")])]),a(\"li\",[a(\"code\",[t._v(\"sendImmediately\")]),t._v(\" (optional)\")]),a(\"li\",[a(\"code\",[t._v(\"bearer\")]),t._v(\" (optional)\")])]),a(\"p\",[t._v(\"The method form takes parameters\\n\"),a(\"code\",[t._v(\"auth(username, password, sendImmediately, bearer)\")]),t._v(\".\")]),a(\"p\",[a(\"code\",[t._v(\"sendImmediately\")]),t._v(\" defaults to \"),a(\"code\",[t._v(\"true\")]),t._v(\", which causes a basic or bearer\\nauthentication header to be sent. If \"),a(\"code\",[t._v(\"sendImmediately\")]),t._v(\" is \"),a(\"code\",[t._v(\"false\")]),t._v(\", then\\n\"),a(\"code\",[t._v(\"request\")]),t._v(\" will retry with a proper authentication header after receiving a\\n\"),a(\"code\",[t._v(\"401\")]),t._v(\" response from the server (which must contain a \"),a(\"code\",[t._v(\"WWW-Authenticate\")]),t._v(\" header\\nindicating the required authentication method).\")]),a(\"p\",[t._v(\"Note that you can also specify basic authentication using the URL itself, as\\ndetailed in \"),a(\"a\",{attrs:{href:\"http://www.ietf.org/rfc/rfc1738.txt\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"RFC 1738\")]),t._v(\". Simply pass the\\n\"),a(\"code\",[t._v(\"user:password\")]),t._v(\" before the host with an \"),a(\"code\",[t._v(\"@\")]),t._v(\" sign:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" username \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'username'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    password \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'password'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    url \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" username \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"':'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" password \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'@some.server.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Do more stuff with 'body' here\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"Digest authentication is supported, but it only works with \"),a(\"code\",[t._v(\"sendImmediately\")]),t._v(\"\\nset to \"),a(\"code\",[t._v(\"false\")]),t._v(\"; otherwise \"),a(\"code\",[t._v(\"request\")]),t._v(\" will send basic authentication on the\\ninitial request, which will probably cause the request to fail.\")]),a(\"p\",[t._v(\"Bearer authentication is supported, and is activated when the \"),a(\"code\",[t._v(\"bearer\")]),t._v(\" value is\\navailable. The value may be either a \"),a(\"code\",[t._v(\"String\")]),t._v(\" or a \"),a(\"code\",[t._v(\"Function\")]),t._v(\" returning a\\n\"),a(\"code\",[t._v(\"String\")]),t._v(\". Using a function to supply the bearer token is particularly useful if\\nused in conjunction with \"),a(\"code\",[t._v(\"defaults\")]),t._v(\" to allow a single function to supply the\\nlast known token at the time of sending a request, or to compute one on the fly.\")]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"custom-http-headers\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#custom-http-headers\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Custom HTTP Headers\")]),a(\"p\",[t._v(\"HTTP Headers, such as \"),a(\"code\",[t._v(\"User-Agent\")]),t._v(\", can be set in the \"),a(\"code\",[t._v(\"options\")]),t._v(\" object.\\nIn the example below, we call the github API to find out the number\\nof stars and forks for the request repository. This requires a\\ncustom \"),a(\"code\",[t._v(\"User-Agent\")]),t._v(\" header as well as https.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" options \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.github.com/repos/request/request'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  headers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'User-Agent'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"callback\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"!\")]),t._v(\"error \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"statusCode \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"==\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"200\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" info \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"JSON\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parse\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"info\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"stargazers_count \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\" Stars\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"info\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"forks_count \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\" Forks\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"options\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" callback\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"oauth-signing\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#oauth-signing\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" OAuth Signing\")]),a(\"p\",[a(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc5849\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"OAuth version 1.0\")]),t._v(\" is supported. The\\ndefault signing algorithm is\\n\"),a(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc5849#section-3.4.2\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"HMAC-SHA1\")]),t._v(\":\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// OAuth1.0 - 3-legged server side flow (Twitter example)\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// step 1\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" qs \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'querystring'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oauth \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" callback\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mysite.com/callback/'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" consumer_key\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"CONSUMER_KEY\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" consumer_secret\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"CONSUMER_SECRET\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" url \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.twitter.com/oauth/request_token'\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"post\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oauth\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"oauth\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"e\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" r\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Ideally, you would take the body in the response\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// and construct a URL that a user clicks on (like a sign in button).\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// The verifier is only available in the response after a user has\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// verified with twitter that they are authorizing your app.\")]),t._v(\"\\n\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// step 2\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" req_data \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" qs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parse\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" uri \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.twitter.com/oauth/authenticate'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'?'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" qs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"stringify\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"oauth_token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" req_data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"oauth_token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// redirect the user to the authorize uri\")]),t._v(\"\\n\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// step 3\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// after the user is redirected back to your server\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" auth_data \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" qs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parse\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oauth \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" consumer_key\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"CONSUMER_KEY\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" consumer_secret\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"CONSUMER_SECRET\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" auth_data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"oauth_token\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" token_secret\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" req_data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"oauth_token_secret\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" verifier\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" auth_data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"oauth_verifier\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" url \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.twitter.com/oauth/access_token'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"post\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oauth\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"oauth\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"e\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" r\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// ready to make signed requests on behalf of the user\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" perm_data \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" qs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parse\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oauth \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" consumer_key\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"CONSUMER_KEY\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" consumer_secret\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"CONSUMER_SECRET\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" token\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" perm_data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"oauth_token\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" token_secret\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" perm_data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"oauth_token_secret\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" url \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.twitter.com/1.1/users/show.json'\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" qs \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" screen_name\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" perm_data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"screen_name\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" user_id\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" perm_data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"user_id\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oauth\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"oauth\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" qs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"qs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" json\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"e\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" r\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" user\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"user\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"For \"),a(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc5849#section-3.4.3\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"RSA-SHA1 signing\")]),t._v(\", make\\nthe following changes to the OAuth options object:\")]),a(\"ul\",[a(\"li\",[t._v(\"Pass \"),a(\"code\",[t._v(\"signature_method : 'RSA-SHA1'\")])]),a(\"li\",[t._v(\"Instead of \"),a(\"code\",[t._v(\"consumer_secret\")]),t._v(\", specify a \"),a(\"code\",[t._v(\"private_key\")]),t._v(\" string in\\n\"),a(\"a\",{attrs:{href:\"http://how2ssl.com/articles/working_with_pem_files/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"PEM format\")])])]),a(\"p\",[t._v(\"For \"),a(\"a\",{attrs:{href:\"http://oauth.net/core/1.0/#anchor22\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"PLAINTEXT signing\")]),t._v(\", make\\nthe following changes to the OAuth options object:\")]),a(\"ul\",[a(\"li\",[t._v(\"Pass \"),a(\"code\",[t._v(\"signature_method : 'PLAINTEXT'\")])])]),a(\"p\",[t._v(\"To send OAuth parameters via query params or in a post body as described in The\\n\"),a(\"a\",{attrs:{href:\"http://oauth.net/core/1.0/#consumer_req_param\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Consumer Request Parameters\")]),t._v(\"\\nsection of the oauth1 spec:\")]),a(\"ul\",[a(\"li\",[t._v(\"Pass \"),a(\"code\",[t._v(\"transport_method : 'query'\")]),t._v(\" or \"),a(\"code\",[t._v(\"transport_method : 'body'\")]),t._v(\" in the OAuth\\noptions object.\")]),a(\"li\",[a(\"code\",[t._v(\"transport_method\")]),t._v(\" defaults to \"),a(\"code\",[t._v(\"'header'\")])])]),a(\"p\",[t._v(\"To use \"),a(\"a\",{attrs:{href:\"https://oauth.googlecode.com/svn/spec/ext/body_hash/1.0/oauth-bodyhash.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Request Body Hash\")]),t._v(\" you can either\")]),a(\"ul\",[a(\"li\",[t._v(\"Manually generate the body hash and pass it as a string \"),a(\"code\",[t._v(\"body_hash: '...'\")])]),a(\"li\",[t._v(\"Automatically generate the body hash by passing \"),a(\"code\",[t._v(\"body_hash: true\")])])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"proxies\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#proxies\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Proxies\")]),a(\"p\",[t._v(\"If you specify a \"),a(\"code\",[t._v(\"proxy\")]),t._v(\" option, then the request (and any subsequent\\nredirects) will be sent via a connection to the proxy server.\")]),a(\"p\",[t._v(\"If your endpoint is an \"),a(\"code\",[t._v(\"https\")]),t._v(\" url, and you are using a proxy, then\\nrequest will send a \"),a(\"code\",[t._v(\"CONNECT\")]),t._v(\" request to the proxy server \"),a(\"em\",[t._v(\"first\")]),t._v(\", and\\nthen use the supplied connection to connect to the endpoint.\")]),a(\"p\",[t._v(\"That is, first it will make a request like:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"HTTP/1.1 CONNECT endpoint-server.com:80\\nHost: proxy-server.com\\nUser-Agent: whatever user agent you specify\\n\")])]),a(\"p\",[t._v(\"and then the proxy server make a TCP connection to \"),a(\"code\",[t._v(\"endpoint-server\")]),t._v(\"\\non port \"),a(\"code\",[t._v(\"80\")]),t._v(\", and return a response that looks like:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"HTTP/1.1 200 OK\\n\")])]),a(\"p\",[t._v(\"At this point, the connection is left open, and the client is\\ncommunicating directly with the \"),a(\"code\",[t._v(\"endpoint-server.com\")]),t._v(\" machine.\")]),a(\"p\",[t._v(\"See \"),a(\"a\",{attrs:{href:\"https://en.wikipedia.org/wiki/HTTP_tunnel\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"the wikipedia page on HTTP Tunneling\")]),t._v(\"\\nfor more information.\")]),a(\"p\",[t._v(\"By default, when proxying \"),a(\"code\",[t._v(\"http\")]),t._v(\" traffic, request will simply make a\\nstandard proxied \"),a(\"code\",[t._v(\"http\")]),t._v(\" request. This is done by making the \"),a(\"code\",[t._v(\"url\")]),t._v(\"\\nsection of the initial line of the request a fully qualified url to\\nthe endpoint.\")]),a(\"p\",[t._v(\"For example, it will make a single request that looks like:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"HTTP/1.1 GET http://endpoint-server.com/some-url\\nHost: proxy-server.com\\nOther-Headers: all go here\\n\\nrequest body or whatever\\n\")])]),a(\"p\",[t._v('Because a pure \"http over http\" tunnel offers no additional security\\nor other features, it is generally simpler to go with a\\nstraightforward HTTP proxy in this case. However, if you would like\\nto force a tunneling proxy, you may set the '),a(\"code\",[t._v(\"tunnel\")]),t._v(\" option to \"),a(\"code\",[t._v(\"true\")]),t._v(\".\")]),a(\"p\",[t._v(\"You can also make a standard proxied \"),a(\"code\",[t._v(\"http\")]),t._v(\" request by explicitly setting\\n\"),a(\"code\",[t._v(\"tunnel : false\")]),t._v(\", but \"),a(\"strong\",[t._v(\"note that this will allow the proxy to see the traffic\\nto/from the destination server\")]),t._v(\".\")]),a(\"p\",[t._v(\"If you are using a tunneling proxy, you may set the\\n\"),a(\"code\",[t._v(\"proxyHeaderWhiteList\")]),t._v(\" to share certain headers with the proxy.\")]),a(\"p\",[t._v(\"You can also set the \"),a(\"code\",[t._v(\"proxyHeaderExclusiveList\")]),t._v(\" to share certain\\nheaders only with the proxy and not with destination host.\")]),a(\"p\",[t._v(\"By default, this set is:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"accept\\naccept-charset\\naccept-encoding\\naccept-language\\naccept-ranges\\ncache-control\\ncontent-encoding\\ncontent-language\\ncontent-length\\ncontent-location\\ncontent-md5\\ncontent-range\\ncontent-type\\nconnection\\ndate\\nexpect\\nmax-forwards\\npragma\\nproxy-authorization\\nreferer\\nte\\ntransfer-encoding\\nuser-agent\\nvia\\n\")])]),a(\"p\",[t._v(\"Note that, when using a tunneling proxy, the \"),a(\"code\",[t._v(\"proxy-authorization\")]),t._v(\"\\nheader and any headers from custom \"),a(\"code\",[t._v(\"proxyHeaderExclusiveList\")]),t._v(\" are\\n\"),a(\"em\",[t._v(\"never\")]),t._v(\" sent to the endpoint server, but only to the proxy server.\")]),a(\"h3\",{attrs:{id:\"controlling-proxy-behaviour-using-environment-variables\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#controlling-proxy-behaviour-using-environment-variables\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Controlling proxy behaviour using environment variables\")]),a(\"p\",[t._v(\"The following environment variables are respected by \"),a(\"code\",[t._v(\"request\")]),t._v(\":\")]),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"HTTP_PROXY\")]),t._v(\" / \"),a(\"code\",[t._v(\"http_proxy\")])]),a(\"li\",[a(\"code\",[t._v(\"HTTPS_PROXY\")]),t._v(\" / \"),a(\"code\",[t._v(\"https_proxy\")])]),a(\"li\",[a(\"code\",[t._v(\"NO_PROXY\")]),t._v(\" / \"),a(\"code\",[t._v(\"no_proxy\")])])]),a(\"p\",[t._v(\"When \"),a(\"code\",[t._v(\"HTTP_PROXY\")]),t._v(\" / \"),a(\"code\",[t._v(\"http_proxy\")]),t._v(\" are set, they will be used to proxy non-SSL requests that do not have an explicit \"),a(\"code\",[t._v(\"proxy\")]),t._v(\" configuration option present. Similarly, \"),a(\"code\",[t._v(\"HTTPS_PROXY\")]),t._v(\" / \"),a(\"code\",[t._v(\"https_proxy\")]),t._v(\" will be respected for SSL requests that do not have an explicit \"),a(\"code\",[t._v(\"proxy\")]),t._v(\" configuration option. It is valid to define a proxy in one of the environment variables, but then override it for a specific request, using the \"),a(\"code\",[t._v(\"proxy\")]),t._v(\" configuration option. Furthermore, the \"),a(\"code\",[t._v(\"proxy\")]),t._v(\" configuration option can be explicitly set to false / null to opt out of proxying altogether for that request.\")]),a(\"p\",[a(\"code\",[t._v(\"request\")]),t._v(\" is also aware of the \"),a(\"code\",[t._v(\"NO_PROXY\")]),t._v(\"/\"),a(\"code\",[t._v(\"no_proxy\")]),t._v(\" environment variables. These variables provide a granular way to opt out of proxying, on a per-host basis. It should contain a comma separated list of hosts to opt out of proxying. It is also possible to opt of proxying when a particular destination port is used. Finally, the variable may be set to \"),a(\"code\",[t._v(\"*\")]),t._v(\" to opt out of the implicit proxy configuration of the other environment variables.\")]),a(\"p\",[t._v(\"Here's some examples of valid \"),a(\"code\",[t._v(\"no_proxy\")]),t._v(\" values:\")]),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"google.com\")]),t._v(\" - don't proxy HTTP/HTTPS requests to Google.\")]),a(\"li\",[a(\"code\",[t._v(\"google.com:443\")]),t._v(\" - don't proxy HTTPS requests to Google, but \"),a(\"em\",[t._v(\"do\")]),t._v(\" proxy HTTP requests to Google.\")]),a(\"li\",[a(\"code\",[t._v(\"google.com:443, yahoo.com:80\")]),t._v(\" - don't proxy HTTPS requests to Google, and don't proxy HTTP requests to Yahoo!\")]),a(\"li\",[a(\"code\",[t._v(\"*\")]),t._v(\" - ignore \"),a(\"code\",[t._v(\"https_proxy\")]),t._v(\"/\"),a(\"code\",[t._v(\"http_proxy\")]),t._v(\" environment variables altogether.\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"unix-domain-sockets\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#unix-domain-sockets\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" UNIX Domain Sockets\")]),a(\"p\",[a(\"code\",[t._v(\"request\")]),t._v(\" supports making requests to \"),a(\"a\",{attrs:{href:\"https://en.wikipedia.org/wiki/Unix_domain_socket\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"UNIX Domain Sockets\")]),t._v(\". To make one, use the following URL scheme:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"/* Pattern */\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://unix:SOCKET:PATH'\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"/* Example */\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://unix:/absolute/path/to/unix.socket:/request/path'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"Note: The \"),a(\"code\",[t._v(\"SOCKET\")]),t._v(\" path is assumed to be absolute to the root of the host file system.\")]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"tls-ssl-protocol\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#tls-ssl-protocol\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" TLS/SSL Protocol\")]),a(\"p\",[t._v(\"TLS/SSL Protocol options, such as \"),a(\"code\",[t._v(\"cert\")]),t._v(\", \"),a(\"code\",[t._v(\"key\")]),t._v(\" and \"),a(\"code\",[t._v(\"passphrase\")]),t._v(\", can be\\nset directly in \"),a(\"code\",[t._v(\"options\")]),t._v(\" object, in the \"),a(\"code\",[t._v(\"agentOptions\")]),t._v(\" property of the \"),a(\"code\",[t._v(\"options\")]),t._v(\" object, or even in \"),a(\"code\",[t._v(\"https.globalAgent.options\")]),t._v(\". Keep in mind that, although \"),a(\"code\",[t._v(\"agentOptions\")]),t._v(\" allows for a slightly wider range of configurations, the recommended way is via \"),a(\"code\",[t._v(\"options\")]),t._v(\" object directly, as using \"),a(\"code\",[t._v(\"agentOptions\")]),t._v(\" or \"),a(\"code\",[t._v(\"https.globalAgent.options\")]),t._v(\" would not be applied in the same way in proxied environments (as data travels through a TLS connection instead of an http/https agent).\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" fs \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'fs'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" path \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'path'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" certFile \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" path\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"resolve\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ssl/client.crt'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" keyFile \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" path\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"resolve\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ssl/client.key'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" caFile \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" path\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"resolve\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ssl/ca.cert.pem'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" options \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.some-server.com/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    cert\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"readFileSync\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"certFile\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    key\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"readFileSync\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"keyFile\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    passphrase\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'password'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    ca\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"readFileSync\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"caFile\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"options\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"h3\",{attrs:{id:\"using-options-agentoptions\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#using-options-agentoptions\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Using \"),a(\"code\",[t._v(\"options.agentOptions\")])]),a(\"p\",[t._v(\"In the example below, we call an API that requires client side SSL certificate\\n(in PEM format) with passphrase protected private key (in PEM format) and disable the SSLv3 protocol:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" fs \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'fs'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" path \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'path'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" certFile \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" path\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"resolve\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ssl/client.crt'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" keyFile \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" path\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"resolve\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"__dirname\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ssl/client.key'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" options \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.some-server.com/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    agentOptions\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        cert\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"readFileSync\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"certFile\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        key\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"readFileSync\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"keyFile\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Or use `pfx` property replacing `cert` and `key` when using private key, certificate and CA certs in PFX or PKCS12 format:\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// pfx: fs.readFileSync(pfxFilePath),\")]),t._v(\"\\n        passphrase\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'password'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        securityOptions\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'SSL_OP_NO_SSLv3'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nrequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"options\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"It is able to force using SSLv3 only by specifying \"),a(\"code\",[t._v(\"secureProtocol\")]),t._v(\":\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.some-server.com/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    agentOptions\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        secureProtocol\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'SSLv3_method'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"It is possible to accept other certificates than those signed by generally allowed Certificate Authorities (CAs).\\nThis can be useful, for example,  when using self-signed certificates.\\nTo require a different root certificate, you can specify the signing CA by adding the contents of the CA's certificate file to the \"),a(\"code\",[t._v(\"agentOptions\")]),t._v(\".\\nThe certificate the domain presents must be signed by the root certificate specified:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'https://api.some-server.com/'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    agentOptions\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        ca\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" fs\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"readFileSync\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ca.cert.pem'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"support-for-har-1-2\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#support-for-har-1-2\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Support for HAR 1.2\")]),a(\"p\",[t._v(\"The \"),a(\"code\",[t._v(\"options.har\")]),t._v(\" property will override the values: \"),a(\"code\",[t._v(\"url\")]),t._v(\", \"),a(\"code\",[t._v(\"method\")]),t._v(\", \"),a(\"code\",[t._v(\"qs\")]),t._v(\", \"),a(\"code\",[t._v(\"headers\")]),t._v(\", \"),a(\"code\",[t._v(\"form\")]),t._v(\", \"),a(\"code\",[t._v(\"formData\")]),t._v(\", \"),a(\"code\",[t._v(\"body\")]),t._v(\", \"),a(\"code\",[t._v(\"json\")]),t._v(\", as well as construct multipart data and read files from disk when \"),a(\"code\",[t._v(\"request.postData.params[].fileName\")]),t._v(\" is present without a matching \"),a(\"code\",[t._v(\"value\")]),t._v(\".\")]),a(\"p\",[t._v(\"A validation step will check if the HAR Request format matches the latest spec (v1.2) and will skip parsing if not matching.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// will be ignored\")]),t._v(\"\\n    method\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'GET'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    uri\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// HTTP Archive Request Object\")]),t._v(\"\\n    har\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.mockbin.com/har'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      method\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'POST'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      headers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          name\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          value\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'application/x-www-form-urlencoded'\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      postData\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        mimeType\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'application/x-www-form-urlencoded'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        params\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            name\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'foo'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n            value\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'bar'\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            name\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'hello'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n            value\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'world'\")]),t._v(\"\\n          \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// a POST request will be sent to http://www.mockbin.com\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// with body an application/x-www-form-urlencoded body:\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// foo=bar&hello=world\")]),t._v(\"\\n\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"request-options-callback\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-options-callback\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" request(options, callback)\")]),a(\"p\",[t._v(\"The first argument can be either a \"),a(\"code\",[t._v(\"url\")]),t._v(\" or an \"),a(\"code\",[t._v(\"options\")]),t._v(\" object. The only required option is \"),a(\"code\",[t._v(\"uri\")]),t._v(\"; all others are optional.\")]),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"uri\")]),t._v(\" || \"),a(\"code\",[t._v(\"url\")]),t._v(\" - fully qualified uri or a parsed url object from \"),a(\"code\",[t._v(\"url.parse()\")])]),a(\"li\",[a(\"code\",[t._v(\"baseUrl\")]),t._v(\" - fully qualified uri string used as the base url. Most useful with \"),a(\"code\",[t._v(\"request.defaults\")]),t._v(\", for example when you want to do many requests to the same domain. If \"),a(\"code\",[t._v(\"baseUrl\")]),t._v(\" is \"),a(\"code\",[t._v(\"https://example.com/api/\")]),t._v(\", then requesting \"),a(\"code\",[t._v(\"/end/point?test=true\")]),t._v(\" will fetch \"),a(\"code\",[t._v(\"https://example.com/api/end/point?test=true\")]),t._v(\". When \"),a(\"code\",[t._v(\"baseUrl\")]),t._v(\" is given, \"),a(\"code\",[t._v(\"uri\")]),t._v(\" must also be a string.\")]),a(\"li\",[a(\"code\",[t._v(\"method\")]),t._v(\" - http method (default: \"),a(\"code\",[t._v('\"GET\"')]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"headers\")]),t._v(\" - http headers (default: \"),a(\"code\",[t._v(\"{}\")]),t._v(\")\")])]),a(\"hr\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"qs\")]),t._v(\" - object containing querystring values to be appended to the \"),a(\"code\",[t._v(\"uri\")])]),a(\"li\",[a(\"code\",[t._v(\"qsParseOptions\")]),t._v(\" - object containing options to pass to the \"),a(\"a\",{attrs:{href:\"https://github.com/hapijs/qs#parsing-objects\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"qs.parse\")]),t._v(\" method. Alternatively pass options to the \"),a(\"a\",{attrs:{href:\"https://nodejs.org/docs/v0.12.0/api/querystring.html#querystring_querystring_parse_str_sep_eq_options\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"querystring.parse\")]),t._v(\" method using this format \"),a(\"code\",[t._v(\"{sep:';', eq:':', options:{}}\")])]),a(\"li\",[a(\"code\",[t._v(\"qsStringifyOptions\")]),t._v(\" - object containing options to pass to the \"),a(\"a\",{attrs:{href:\"https://github.com/hapijs/qs#stringifying\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"qs.stringify\")]),t._v(\" method. Alternatively pass options to the  \"),a(\"a\",{attrs:{href:\"https://nodejs.org/docs/v0.12.0/api/querystring.html#querystring_querystring_stringify_obj_sep_eq_options\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"querystring.stringify\")]),t._v(\" method using this format \"),a(\"code\",[t._v(\"{sep:';', eq:':', options:{}}\")]),t._v(\". For example, to change the way arrays are converted to query strings using the \"),a(\"code\",[t._v(\"qs\")]),t._v(\" module pass the \"),a(\"code\",[t._v(\"arrayFormat\")]),t._v(\" option with one of \"),a(\"code\",[t._v(\"indices|brackets|repeat\")])]),a(\"li\",[a(\"code\",[t._v(\"useQuerystring\")]),t._v(\" - if true, use \"),a(\"code\",[t._v(\"querystring\")]),t._v(\" to stringify and parse\\nquerystrings, otherwise use \"),a(\"code\",[t._v(\"qs\")]),t._v(\" (default: \"),a(\"code\",[t._v(\"false\")]),t._v(\"). Set this option to\\n\"),a(\"code\",[t._v(\"true\")]),t._v(\" if you need arrays to be serialized as \"),a(\"code\",[t._v(\"foo=bar&foo=baz\")]),t._v(\" instead of the\\ndefault \"),a(\"code\",[t._v(\"foo[0]=bar&foo[1]=baz\")]),t._v(\".\")])]),a(\"hr\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"body\")]),t._v(\" - entity body for PATCH, POST and PUT requests. Must be a \"),a(\"code\",[t._v(\"Buffer\")]),t._v(\", \"),a(\"code\",[t._v(\"String\")]),t._v(\" or \"),a(\"code\",[t._v(\"ReadStream\")]),t._v(\". If \"),a(\"code\",[t._v(\"json\")]),t._v(\" is \"),a(\"code\",[t._v(\"true\")]),t._v(\", then \"),a(\"code\",[t._v(\"body\")]),t._v(\" must be a JSON-serializable object.\")]),a(\"li\",[a(\"code\",[t._v(\"form\")]),t._v(\" - when passed an object or a querystring, this sets \"),a(\"code\",[t._v(\"body\")]),t._v(\" to a querystring representation of value, and adds \"),a(\"code\",[t._v(\"Content-type: application/x-www-form-urlencoded\")]),t._v(\" header. When passed no options, a \"),a(\"code\",[t._v(\"FormData\")]),t._v(' instance is returned (and is piped to request). See \"Forms\" section above.')]),a(\"li\",[a(\"code\",[t._v(\"formData\")]),t._v(\" - data to pass for a \"),a(\"code\",[t._v(\"multipart/form-data\")]),t._v(\" request. See\\n\"),a(\"a\",{attrs:{href:\"#forms\"}},[t._v(\"Forms\")]),t._v(\" section above.\")]),a(\"li\",[a(\"code\",[t._v(\"multipart\")]),t._v(\" - array of objects which contain their own headers and \"),a(\"code\",[t._v(\"body\")]),t._v(\"\\nattributes. Sends a \"),a(\"code\",[t._v(\"multipart/related\")]),t._v(\" request. See \"),a(\"a\",{attrs:{href:\"#forms\"}},[t._v(\"Forms\")]),t._v(\" section\\nabove.\\n\"),a(\"ul\",[a(\"li\",[t._v(\"Alternatively you can pass in an object \"),a(\"code\",[t._v(\"{chunked: false, data: []}\")]),t._v(\" where\\n\"),a(\"code\",[t._v(\"chunked\")]),t._v(\" is used to specify whether the request is sent in\\n\"),a(\"a\",{attrs:{href:\"https://en.wikipedia.org/wiki/Chunked_transfer_encoding\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"chunked transfer encoding\")]),t._v(\"\\nIn non-chunked requests, data items with body streams are not allowed.\")])])]),a(\"li\",[a(\"code\",[t._v(\"preambleCRLF\")]),t._v(\" - append a newline/CRLF before the boundary of your \"),a(\"code\",[t._v(\"multipart/form-data\")]),t._v(\" request.\")]),a(\"li\",[a(\"code\",[t._v(\"postambleCRLF\")]),t._v(\" - append a newline/CRLF at the end of the boundary of your \"),a(\"code\",[t._v(\"multipart/form-data\")]),t._v(\" request.\")]),a(\"li\",[a(\"code\",[t._v(\"json\")]),t._v(\" - sets \"),a(\"code\",[t._v(\"body\")]),t._v(\" to JSON representation of value and adds \"),a(\"code\",[t._v(\"Content-type: application/json\")]),t._v(\" header. Additionally, parses the response body as JSON.\")]),a(\"li\",[a(\"code\",[t._v(\"jsonReviver\")]),t._v(\" - a \"),a(\"a\",{attrs:{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"reviver function\")]),t._v(\" that will be passed to \"),a(\"code\",[t._v(\"JSON.parse()\")]),t._v(\" when parsing a JSON response body.\")]),a(\"li\",[a(\"code\",[t._v(\"jsonReplacer\")]),t._v(\" - a \"),a(\"a\",{attrs:{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"replacer function\")]),t._v(\" that will be passed to \"),a(\"code\",[t._v(\"JSON.stringify()\")]),t._v(\" when stringifying a JSON request body.\")])]),a(\"hr\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"auth\")]),t._v(\" - a hash containing values \"),a(\"code\",[t._v(\"user\")]),t._v(\" || \"),a(\"code\",[t._v(\"username\")]),t._v(\", \"),a(\"code\",[t._v(\"pass\")]),t._v(\" || \"),a(\"code\",[t._v(\"password\")]),t._v(\", and \"),a(\"code\",[t._v(\"sendImmediately\")]),t._v(\" (optional). See documentation above.\")]),a(\"li\",[a(\"code\",[t._v(\"oauth\")]),t._v(\" - options for OAuth HMAC-SHA1 signing. See documentation above.\")]),a(\"li\",[a(\"code\",[t._v(\"hawk\")]),t._v(\" - options for \"),a(\"a\",{attrs:{href:\"https://github.com/hueniverse/hawk\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Hawk signing\")]),t._v(\". The \"),a(\"code\",[t._v(\"credentials\")]),t._v(\" key must contain the necessary signing info, \"),a(\"a\",{attrs:{href:\"https://github.com/hueniverse/hawk#usage-example\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"see hawk docs for details\")]),t._v(\".\")]),a(\"li\",[a(\"code\",[t._v(\"aws\")]),t._v(\" - \"),a(\"code\",[t._v(\"object\")]),t._v(\" containing AWS signing information. Should have the properties \"),a(\"code\",[t._v(\"key\")]),t._v(\", \"),a(\"code\",[t._v(\"secret\")]),t._v(\", and optionally \"),a(\"code\",[t._v(\"session\")]),t._v(\" (note that this only works for services that require session as part of the canonical string). Also requires the property \"),a(\"code\",[t._v(\"bucket\")]),t._v(\", unless youâ€™re specifying your \"),a(\"code\",[t._v(\"bucket\")]),t._v(\" as part of the path, or the request doesnâ€™t use a bucket (i.e. GET Services). If you want to use AWS sign version 4 use the parameter \"),a(\"code\",[t._v(\"sign_version\")]),t._v(\" with value \"),a(\"code\",[t._v(\"4\")]),t._v(\" otherwise the default is version 2. \"),a(\"strong\",[t._v(\"Note:\")]),t._v(\" you need to \"),a(\"code\",[t._v(\"npm install aws4\")]),t._v(\" first.\")]),a(\"li\",[a(\"code\",[t._v(\"httpSignature\")]),t._v(\" - options for the \"),a(\"a\",{attrs:{href:\"https://github.com/joyent/node-http-signature/blob/master/http_signing.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"HTTP Signature Scheme\")]),t._v(\" using \"),a(\"a\",{attrs:{href:\"https://github.com/joyent/node-http-signature\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Joyent's library\")]),t._v(\". The \"),a(\"code\",[t._v(\"keyId\")]),t._v(\" and \"),a(\"code\",[t._v(\"key\")]),t._v(\" properties must be specified. See the docs for other options.\")])]),a(\"hr\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"followRedirect\")]),t._v(\" - follow HTTP 3xx responses as redirects (default: \"),a(\"code\",[t._v(\"true\")]),t._v(\"). This property can also be implemented as function which gets \"),a(\"code\",[t._v(\"response\")]),t._v(\" object as a single argument and should return \"),a(\"code\",[t._v(\"true\")]),t._v(\" if redirects should continue or \"),a(\"code\",[t._v(\"false\")]),t._v(\" otherwise.\")]),a(\"li\",[a(\"code\",[t._v(\"followAllRedirects\")]),t._v(\" - follow non-GET HTTP 3xx responses as redirects (default: \"),a(\"code\",[t._v(\"false\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"followOriginalHttpMethod\")]),t._v(\" - by default we redirect to HTTP method GET. you can enable this property to redirect to the original HTTP method (default: \"),a(\"code\",[t._v(\"false\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"maxRedirects\")]),t._v(\" - the maximum number of redirects to follow (default: \"),a(\"code\",[t._v(\"10\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"removeRefererHeader\")]),t._v(\" - removes the referer header when a redirect happens (default: \"),a(\"code\",[t._v(\"false\")]),t._v(\"). \"),a(\"strong\",[t._v(\"Note:\")]),t._v(\" if true, referer header set in the initial request is preserved during redirect chain.\")])]),a(\"hr\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"encoding\")]),t._v(\" - encoding to be used on \"),a(\"code\",[t._v(\"setEncoding\")]),t._v(\" of response data. If \"),a(\"code\",[t._v(\"null\")]),t._v(\", the \"),a(\"code\",[t._v(\"body\")]),t._v(\" is returned as a \"),a(\"code\",[t._v(\"Buffer\")]),t._v(\". Anything else \"),a(\"strong\",[t._v(\"(including the default value of \"),a(\"code\",[t._v(\"undefined\")]),t._v(\")\")]),t._v(\" will be passed as the \"),a(\"a\",{attrs:{href:\"http://nodejs.org/api/buffer.html#buffer_buffer\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"encoding\")]),t._v(\" parameter to \"),a(\"code\",[t._v(\"toString()\")]),t._v(\" (meaning this is effectively \"),a(\"code\",[t._v(\"utf8\")]),t._v(\" by default). (\"),a(\"strong\",[t._v(\"Note:\")]),t._v(\" if you expect binary data, you should set \"),a(\"code\",[t._v(\"encoding: null\")]),t._v(\".)\")]),a(\"li\",[a(\"code\",[t._v(\"gzip\")]),t._v(\" - if \"),a(\"code\",[t._v(\"true\")]),t._v(\", add an \"),a(\"code\",[t._v(\"Accept-Encoding\")]),t._v(\" header to request compressed content encodings from the server (if not already present) and decode supported content encodings in the response. \"),a(\"strong\",[t._v(\"Note:\")]),t._v(\" Automatic decoding of the response content is performed on the body data returned through \"),a(\"code\",[t._v(\"request\")]),t._v(\" (both through the \"),a(\"code\",[t._v(\"request\")]),t._v(\" stream and passed to the callback function) but is not performed on the \"),a(\"code\",[t._v(\"response\")]),t._v(\" stream (available from the \"),a(\"code\",[t._v(\"response\")]),t._v(\" event) which is the unmodified \"),a(\"code\",[t._v(\"http.IncomingMessage\")]),t._v(\" object which may contain compressed data. See example below.\")]),a(\"li\",[a(\"code\",[t._v(\"jar\")]),t._v(\" - if \"),a(\"code\",[t._v(\"true\")]),t._v(\", remember cookies for future use (or define your custom cookie jar; see examples section)\")])]),a(\"hr\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"agent\")]),t._v(\" - \"),a(\"code\",[t._v(\"http(s).Agent\")]),t._v(\" instance to use\")]),a(\"li\",[a(\"code\",[t._v(\"agentClass\")]),t._v(\" - alternatively specify your agent's class name\")]),a(\"li\",[a(\"code\",[t._v(\"agentOptions\")]),t._v(\" - and pass its options. \"),a(\"strong\",[t._v(\"Note:\")]),t._v(\" for HTTPS see \"),a(\"a\",{attrs:{href:\"http://nodejs.org/api/tls.html#tls_tls_connect_options_callback\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"tls API doc for TLS/SSL options\")]),t._v(\" and the \"),a(\"a\",{attrs:{href:\"#using-optionsagentoptions\"}},[t._v(\"documentation above\")]),t._v(\".\")]),a(\"li\",[a(\"code\",[t._v(\"forever\")]),t._v(\" - set to \"),a(\"code\",[t._v(\"true\")]),t._v(\" to use the \"),a(\"a\",{attrs:{href:\"https://github.com/request/forever-agent\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"forever-agent\")]),a(\"strong\",[t._v(\"Note:\")]),t._v(\" Defaults to \"),a(\"code\",[t._v(\"http(s).Agent({keepAlive:true})\")]),t._v(\" in node 0.12+\")]),a(\"li\",[a(\"code\",[t._v(\"pool\")]),t._v(\" - an object describing which agents to use for the request. If this option is omitted the request will use the global agent (as long as your options allow for it). Otherwise, request will search the pool for your custom agent. If no custom agent is found, a new agent will be created and added to the pool. \"),a(\"strong\",[t._v(\"Note:\")]),a(\"code\",[t._v(\"pool\")]),t._v(\" is used only when the \"),a(\"code\",[t._v(\"agent\")]),t._v(\" option is not specified.\\n\"),a(\"ul\",[a(\"li\",[t._v(\"A \"),a(\"code\",[t._v(\"maxSockets\")]),t._v(\" property can also be provided on the \"),a(\"code\",[t._v(\"pool\")]),t._v(\" object to set the max number of sockets for all agents created (ex: \"),a(\"code\",[t._v(\"pool: {maxSockets: Infinity}\")]),t._v(\").\")]),a(\"li\",[t._v(\"Note that if you are sending multiple requests in a loop and creating\\nmultiple new \"),a(\"code\",[t._v(\"pool\")]),t._v(\" objects, \"),a(\"code\",[t._v(\"maxSockets\")]),t._v(\" will not work as intended. To\\nwork around this, either use \"),a(\"a\",{attrs:{href:\"#requestdefaultsoptions\"}},[a(\"code\",[t._v(\"request.defaults\")])]),t._v(\"\\nwith your pool options or create the pool object with the \"),a(\"code\",[t._v(\"maxSockets\")]),t._v(\"\\nproperty outside of the loop.\")])])]),a(\"li\",[a(\"code\",[t._v(\"timeout\")]),t._v(\" - integer containing the number of milliseconds to wait for a\\nserver to send response headers (and start the response body) before aborting\\nthe request. Note that if the underlying TCP connection cannot be established,\\nthe OS-wide TCP connection timeout will overrule the \"),a(\"code\",[t._v(\"timeout\")]),t._v(\" option (\"),a(\"a\",{attrs:{href:\"http://www.sekuda.com/overriding_the_default_linux_kernel_20_second_tcp_socket_connect_timeout\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"the\\ndefault in Linux can be anywhere from 20-120 seconds\")]),t._v(\").\")])]),a(\"hr\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"localAddress\")]),t._v(\" - local interface to bind for network connections.\")]),a(\"li\",[a(\"code\",[t._v(\"proxy\")]),t._v(\" - an HTTP proxy to be used. Supports proxy Auth with Basic Auth, identical to support for the \"),a(\"code\",[t._v(\"url\")]),t._v(\" parameter (by embedding the auth info in the \"),a(\"code\",[t._v(\"uri\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"strictSSL\")]),t._v(\" - if \"),a(\"code\",[t._v(\"true\")]),t._v(\", requires SSL certificates be valid. \"),a(\"strong\",[t._v(\"Note:\")]),t._v(\" to use your own certificate authority, you need to specify an agent that was created with that CA as an option.\")]),a(\"li\",[a(\"code\",[t._v(\"tunnel\")]),t._v(\" - controls the behavior of\\n\"),a(\"a\",{attrs:{href:\"https://en.wikipedia.org/wiki/HTTP_tunnel#HTTP_CONNECT_tunneling\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"HTTP \"),a(\"code\",[t._v(\"CONNECT\")]),t._v(\" tunneling\")]),t._v(\"\\nas follows:\\n\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"undefined\")]),t._v(\" (default) - \"),a(\"code\",[t._v(\"true\")]),t._v(\" if the destination is \"),a(\"code\",[t._v(\"https\")]),t._v(\", \"),a(\"code\",[t._v(\"false\")]),t._v(\" otherwise\")]),a(\"li\",[a(\"code\",[t._v(\"true\")]),t._v(\" - always tunnel to the destination by making a \"),a(\"code\",[t._v(\"CONNECT\")]),t._v(\" request to\\nthe proxy\")]),a(\"li\",[a(\"code\",[t._v(\"false\")]),t._v(\" - request the destination as a \"),a(\"code\",[t._v(\"GET\")]),t._v(\" request.\")])])]),a(\"li\",[a(\"code\",[t._v(\"proxyHeaderWhiteList\")]),t._v(\" - a whitelist of headers to send to a\\ntunneling proxy.\")]),a(\"li\",[a(\"code\",[t._v(\"proxyHeaderExclusiveList\")]),t._v(\" - a whitelist of headers to send\\nexclusively to a tunneling proxy and not to destination.\")])]),a(\"hr\"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"code\",[t._v(\"time\")]),t._v(\" - if \"),a(\"code\",[t._v(\"true\")]),t._v(\", the request-response cycle (including all redirects) is timed at millisecond resolution. When set, the following properties are added to the response object:\")]),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"elapsedTime\")]),t._v(\" Duration of the entire request/response in milliseconds (\"),a(\"em\",[t._v(\"deprecated\")]),t._v(\").\")]),a(\"li\",[a(\"code\",[t._v(\"responseStartTime\")]),t._v(\" Timestamp when the response began (in Unix Epoch milliseconds) (\"),a(\"em\",[t._v(\"deprecated\")]),t._v(\").\")]),a(\"li\",[a(\"code\",[t._v(\"timingStart\")]),t._v(\" Timestamp of the start of the request (in Unix Epoch milliseconds).\")]),a(\"li\",[a(\"code\",[t._v(\"timings\")]),t._v(\" Contains event timestamps in millisecond resolution relative to \"),a(\"code\",[t._v(\"timingStart\")]),t._v(\". If there were redirects, the properties reflect the timings of the final request in the redirect chain:\\n\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"socket\")]),t._v(\" Relative timestamp when the \"),a(\"a\",{attrs:{href:\"https://nodejs.org/api/http.html#http_event_socket\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"http\")])]),t._v(\" module's \"),a(\"code\",[t._v(\"socket\")]),t._v(\" event fires. This happens when the socket is assigned to the request.\")]),a(\"li\",[a(\"code\",[t._v(\"lookup\")]),t._v(\" Relative timestamp when the \"),a(\"a\",{attrs:{href:\"https://nodejs.org/api/net.html#net_event_lookup\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"net\")])]),t._v(\" module's \"),a(\"code\",[t._v(\"lookup\")]),t._v(\" event fires. This happens when the DNS has been resolved.\")]),a(\"li\",[a(\"code\",[t._v(\"connect\")]),t._v(\": Relative timestamp when the \"),a(\"a\",{attrs:{href:\"https://nodejs.org/api/net.html#net_event_connect\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"net\")])]),t._v(\" module's \"),a(\"code\",[t._v(\"connect\")]),t._v(\" event fires. This happens when the server acknowledges the TCP connection.\")]),a(\"li\",[a(\"code\",[t._v(\"response\")]),t._v(\": Relative timestamp when the \"),a(\"a\",{attrs:{href:\"https://nodejs.org/api/http.html#http_event_response\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"http\")])]),t._v(\" module's \"),a(\"code\",[t._v(\"response\")]),t._v(\" event fires. This happens when the first bytes are received from the server.\")]),a(\"li\",[a(\"code\",[t._v(\"end\")]),t._v(\": Relative timestamp when the last bytes of the response are received.\")])])]),a(\"li\",[a(\"code\",[t._v(\"timingPhases\")]),t._v(\" Contains the durations of each request phase. If there were redirects, the properties reflect the timings of the final request in the redirect chain:\\n\"),a(\"ul\",[a(\"li\",[a(\"code\",[t._v(\"wait\")]),t._v(\": Duration of socket initialization (\"),a(\"code\",[t._v(\"timings.socket\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"dns\")]),t._v(\": Duration of DNS lookup (\"),a(\"code\",[t._v(\"timings.lookup\")]),t._v(\" - \"),a(\"code\",[t._v(\"timings.socket\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"tcp\")]),t._v(\": Duration of TCP connection (\"),a(\"code\",[t._v(\"timings.connect\")]),t._v(\" - \"),a(\"code\",[t._v(\"timings.socket\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"firstByte\")]),t._v(\": Duration of HTTP server response (\"),a(\"code\",[t._v(\"timings.response\")]),t._v(\" - \"),a(\"code\",[t._v(\"timings.connect\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"download\")]),t._v(\": Duration of HTTP download (\"),a(\"code\",[t._v(\"timings.end\")]),t._v(\" - \"),a(\"code\",[t._v(\"timings.response\")]),t._v(\")\")]),a(\"li\",[a(\"code\",[t._v(\"total\")]),t._v(\": Duration entire HTTP round-trip (\"),a(\"code\",[t._v(\"timings.end\")]),t._v(\")\")])])])])]),a(\"li\",[a(\"p\",[a(\"code\",[t._v(\"har\")]),t._v(\" - a \"),a(\"a\",{attrs:{href:\"http://www.softwareishard.com/blog/har-12-spec/#request\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"HAR 1.2 Request Object\")]),t._v(\", will be processed from HAR format into options overwriting matching values \"),a(\"em\",[t._v(\"(see the \"),a(\"a\",{attrs:{href:\"#support-for-har-1.2\"}},[t._v(\"HAR 1.2 section\")]),t._v(\" for details)\")])])]),a(\"li\",[a(\"p\",[a(\"code\",[t._v(\"callback\")]),t._v(\" - alternatively pass the request's callback in the options object\")])])]),a(\"p\",[t._v(\"The callback argument gets 3 arguments:\")]),a(\"ol\",[a(\"li\",[t._v(\"An \"),a(\"code\",[t._v(\"error\")]),t._v(\" when applicable (usually from \"),a(\"a\",{attrs:{href:\"http://nodejs.org/api/http.html#http_class_http_clientrequest\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"http.ClientRequest\")])]),t._v(\" object)\")]),a(\"li\",[t._v(\"An \"),a(\"a\",{attrs:{href:\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"http.IncomingMessage\")])]),t._v(\" object (Response object)\")]),a(\"li\",[t._v(\"The third is the \"),a(\"code\",[t._v(\"response\")]),t._v(\" body (\"),a(\"code\",[t._v(\"String\")]),t._v(\" or \"),a(\"code\",[t._v(\"Buffer\")]),t._v(\", or JSON object if the \"),a(\"code\",[t._v(\"json\")]),t._v(\" option is supplied)\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"convenience-methods\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#convenience-methods\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Convenience methods\")]),a(\"p\",[t._v(\"There are also shorthand methods for different HTTP METHODs and some other conveniences.\")]),a(\"h3\",{attrs:{id:\"request-defaults-options\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-defaults-options\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" request.defaults(options)\")]),a(\"p\",[t._v(\"This method \"),a(\"strong\",[t._v(\"returns a wrapper\")]),t._v(\" around the normal request API that defaults\\nto whatever options you pass to it.\")]),a(\"p\",[a(\"strong\",[t._v(\"Note:\")]),a(\"code\",[t._v(\"request.defaults()\")]),a(\"strong\",[t._v(\"does not\")]),t._v(\" modify the global request API;\\ninstead, it \"),a(\"strong\",[t._v(\"returns a wrapper\")]),t._v(\" that has your default settings applied to it.\")]),a(\"p\",[a(\"strong\",[t._v(\"Note:\")]),t._v(\" You can call \"),a(\"code\",[t._v(\".defaults()\")]),t._v(\" on the wrapper that is returned from\\n\"),a(\"code\",[t._v(\"request.defaults\")]),t._v(\" to add/override defaults that were previously defaulted.\")]),a(\"p\",[t._v(\"For example:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//requests using baseRequest() will set the 'x-token' header\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" baseRequest \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"defaults\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  headers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'x-token'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'my-token'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//requests using specialRequest() will include the 'x-token' header set in\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//baseRequest and will also include the 'special' header\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" specialRequest \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" baseRequest\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"defaults\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  headers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"special\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'special value'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"h3\",{attrs:{id:\"request-method\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-method\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" request.METHOD()\")]),a(\"p\",[t._v(\"These HTTP method convenience functions act just like \"),a(\"code\",[t._v(\"request()\")]),t._v(\" but with a default method already set for you:\")]),a(\"ul\",[a(\"li\",[a(\"em\",[t._v(\"request.get()\")]),t._v(\": Defaults to \"),a(\"code\",[t._v('method: \"GET\"')]),t._v(\".\")]),a(\"li\",[a(\"em\",[t._v(\"request.post()\")]),t._v(\": Defaults to \"),a(\"code\",[t._v('method: \"POST\"')]),t._v(\".\")]),a(\"li\",[a(\"em\",[t._v(\"request.put()\")]),t._v(\": Defaults to \"),a(\"code\",[t._v('method: \"PUT\"')]),t._v(\".\")]),a(\"li\",[a(\"em\",[t._v(\"request.patch()\")]),t._v(\": Defaults to \"),a(\"code\",[t._v('method: \"PATCH\"')]),t._v(\".\")]),a(\"li\",[a(\"em\",[t._v(\"request.del() / request.delete()\")]),t._v(\": Defaults to \"),a(\"code\",[t._v('method: \"DELETE\"')]),t._v(\".\")]),a(\"li\",[a(\"em\",[t._v(\"request.head()\")]),t._v(\": Defaults to \"),a(\"code\",[t._v('method: \"HEAD\"')]),t._v(\".\")]),a(\"li\",[a(\"em\",[t._v(\"request.options()\")]),t._v(\": Defaults to \"),a(\"code\",[t._v('method: \"OPTIONS\"')]),t._v(\".\")])]),a(\"h3\",{attrs:{id:\"request-cookie\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-cookie\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" request.cookie()\")]),a(\"p\",[t._v(\"Function that creates a new cookie.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"cookie\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'key1=value1'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"h3\",{attrs:{id:\"request-jar\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#request-jar\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" request.jar()\")]),a(\"p\",[t._v(\"Function that creates a new cookie jar.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"jar\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"debugging\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#debugging\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Debugging\")]),a(\"p\",[t._v(\"There are at least three ways to debug the operation of \"),a(\"code\",[t._v(\"request\")]),t._v(\":\")]),a(\"ol\",[a(\"li\",[a(\"p\",[t._v(\"Launch the node process like \"),a(\"code\",[t._v(\"NODE_DEBUG=request node script.js\")]),t._v(\"\\n(\"),a(\"code\",[t._v(\"lib,request,otherlib\")]),t._v(\" works too).\")])]),a(\"li\",[a(\"p\",[t._v(\"Set \"),a(\"code\",[t._v(\"require('request').debug = true\")]),t._v(\" at any time (this does the same thing\\nas #1).\")])]),a(\"li\",[a(\"p\",[t._v(\"Use the \"),a(\"a\",{attrs:{href:\"https://github.com/request/request-debug\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"request-debug module\")]),t._v(\" to\\nview request and response headers and bodies.\")])])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])]),a(\"hr\"),a(\"h2\",{attrs:{id:\"timeouts\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#timeouts\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Timeouts\")]),a(\"p\",[t._v(\"Most requests to external servers should have a timeout attached, in case the\\nserver is not responding in a timely manner. Without a timeout, your code may\\nhave a socket open/consume resources for minutes or more.\")]),a(\"p\",[t._v(\"There are two main types of timeouts: \"),a(\"strong\",[t._v(\"connection timeouts\")]),t._v(\" and \"),a(\"strong\",[t._v(\"read\\ntimeouts\")]),t._v(\". A connect timeout occurs if the timeout is hit while your client is\\nattempting to establish a connection to a remote machine (corresponding to the\\n\"),a(\"a\",{attrs:{href:\"http://linux.die.net/man/2/connect\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"connect() call\")]),t._v(\" on the socket). A read timeout occurs any time the\\nserver is too slow to send back a part of the response.\")]),a(\"p\",[t._v(\"These two situations have widely different implications for what went wrong\\nwith the request, so it's useful to be able to distinguish them. You can detect\\ntimeout errors by checking \"),a(\"code\",[t._v(\"err.code\")]),t._v(\" for an 'ETIMEDOUT' value. Further, you\\ncan detect whether the timeout was a connection timeout by checking if the\\n\"),a(\"code\",[t._v(\"err.connect\")]),t._v(\" property is set to \"),a(\"code\",[t._v(\"true\")]),t._v(\".\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"get\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://10.255.255.1'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"timeout\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1500\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"code \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ETIMEDOUT'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Set to `true` if the timeout was a connection timeout, `false` or\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// `undefined` otherwise.\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"connect \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    process\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"exit\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),a(\"h2\",{attrs:{id:\"examples\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#examples\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Examples:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" rand \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" Math\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"floor\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"Math\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"random\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"*\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"100000000\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"toString\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" method\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'PUT'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" uri\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://mikeal.iriscouch.com/testjs/'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" rand\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" multipart\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'application/json'\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"  body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"JSON\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"stringify\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"foo\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'bar'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" _attachments\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.txt'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"follows\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" length\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"18\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content_type'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'I am an attachment'\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"statusCode \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"==\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"201\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'document saved as: http://mikeal.iriscouch.com/testjs/'\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" rand\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'error: '\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"statusCode\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"For backwards-compatibility, response compression is not supported by default.\\nTo accept gzip-compressed responses, set the \"),a(\"code\",[t._v(\"gzip\")]),t._v(\" option to \"),a(\"code\",[t._v(\"true\")]),t._v(\". Note\\nthat the body data passed through \"),a(\"code\",[t._v(\"request\")]),t._v(\" is automatically decompressed\\nwhile the response object is unmodified and will contain compressed data if\\nthe server sent a compressed response.\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" method\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'GET'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" uri\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.google.com'\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" gzip\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"error\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// body is the decompressed response body\")]),t._v(\"\\n      console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'server encoded the data as: '\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"headers\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-encoding'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"||\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'identity'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'the decoded data is: '\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" body\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"on\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'data'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// decompressed data as it is received\")]),t._v(\"\\n    console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'decoded chunk: '\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"on\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'response'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// unmodified http.IncomingMessage object\")]),t._v(\"\\n    response\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"on\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'data'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// compressed data as it is received\")]),t._v(\"\\n      console\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'received '\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" data\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"length \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"' bytes of compressed data'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"Cookies are disabled by default (else, they would be used in subsequent requests). To enable cookies, set \"),a(\"code\",[t._v(\"jar\")]),t._v(\" to \"),a(\"code\",[t._v(\"true\")]),t._v(\" (either in \"),a(\"code\",[t._v(\"defaults\")]),t._v(\" or \"),a(\"code\",[t._v(\"options\")]),t._v(\").\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"defaults\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"jar\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://images.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"To use a custom cookie jar (instead of \"),a(\"code\",[t._v(\"request\")]),t._v(\"â€™s global cookie jar), set \"),a(\"code\",[t._v(\"jar\")]),t._v(\" to an instance of \"),a(\"code\",[t._v(\"request.jar()\")]),t._v(\" (either in \"),a(\"code\",[t._v(\"defaults\")]),t._v(\" or \"),a(\"code\",[t._v(\"options\")]),t._v(\")\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" j \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"jar\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" request \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"defaults\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"jar\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"j\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://images.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"OR\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" j \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"jar\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" cookie \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"cookie\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'key1=value1'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" url \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nj\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setCookie\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"cookie\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" jar\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" j\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://images.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"To use a custom cookie store (such as a\\n\"),a(\"a\",{attrs:{href:\"https://github.com/mitsuru/tough-cookie-filestore\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"FileCookieStore\")])]),t._v(\"\\nwhich supports saving to and restoring from JSON files), pass it as a parameter\\nto \"),a(\"code\",[t._v(\"request.jar()\")]),t._v(\":\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" FileCookieStore \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'tough-cookie-filestore'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// NOTE - currently the 'cookies.json' file must already exist!\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" j \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"jar\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"FileCookieStore\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'cookies.json'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nrequest \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"defaults\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" jar \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" j \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://images.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[t._v(\"The cookie store must be a\\n\"),a(\"a\",{attrs:{href:\"https://github.com/SalesforceEng/tough-cookie\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"tough-cookie\")])]),t._v(\"\\nstore and it must support synchronous operations; see the\\n\"),a(\"a\",{attrs:{href:\"https://github.com/SalesforceEng/tough-cookie#cookiestore-api\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a(\"code\",[t._v(\"CookieStore\")]),t._v(\" API docs\")]),t._v(\"\\nfor details.\")]),a(\"p\",[t._v(\"To inspect your cookie jar after a request:\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" j \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" request\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"jar\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://www.google.com'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" jar\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" j\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" cookie_string \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" j\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getCookieString\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v('// \"key1=value1; key2=value2; ...\"')]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" cookies \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" j\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getCookies\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"url\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// [{key: 'key1', value: 'value1', domain: \\\"www.google.com\\\", ...}, ...]\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),a(\"p\",[a(\"a\",{attrs:{href:\"#table-of-contents\"}},[t._v(\"back to top\")])])])}],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}